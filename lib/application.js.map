{"version":3,"sources":["../src/application.js"],"names":["cols","addColumn","defaults","keys","map","k","isString","key","obj","columns","additional","partial","show","mobile","desktop","tablet","mobile_only","tabletNoShow","action","concat","addMobile","addMobileOnly","addTablet","addTabletNoShow","addDesktop","value","title","split","wrapper","type","fmt","render","default","places_left","activity","start","session","expand","location","actions","Date","time","st","fn","document","getElementById"],"mappings":"2/BAgEIA,KArDJ,UAAwB,CAUtB,QAASC,UAAT,CAAmBC,QAAnB,CAA6BC,IAA7B,CAAkC,CAChC,MAAO,kBAAEC,GAAF,CAAMD,IAAN,CAAY,SAACE,CAAD,CAAK,CAEtB,MADAA,GAAK,iBAAEC,QAAF,CAAWD,CAAX,CAAD,CAAkB,CAACE,IAAKF,CAAN,CAAlB,CAA8BA,CAClC,CAAO,iBAAEH,QAAF,CAAWG,CAAX,CAAcH,QAAd,CACR,CAHM,CAIR,CAdD,GAgBIM,IAhBJ,CAAIC,QAAU,CAAC,CAACF,IAAK,IAAN,CAAD,CAAc,CAACA,IAAK,WAAN,CAAd,CAAd,CACIG,YAAa,iBAAEC,OAAF,CAAUV,SAAV,CAAqB,CAACW,OAAD,CAArB,CADjB,CAEIC,OAAa,iBAAEF,OAAF,CAAUV,SAAV,CAAqB,CAACa,UAAD,CAAgBD,SAAhB,CAA8BE,SAA9B,CAA4CH,OAA5C,CAArB,CAFjB,CAGII,YAAc,iBAAEL,OAAF,CAAUV,SAAV,CAAqB,CAACa,UAAD,CAAiBD,SAAjB,CAA+BE,SAA/B,CAA8CH,OAA9C,CAArB,CAHlB,CAIIG,OAAa,iBAAEJ,OAAF,CAAUV,SAAV,CAAqB,CAACa,UAAD,CAAgBD,SAAhB,CAA+BE,SAA/B,CAA6CH,OAA7C,CAArB,CAJjB,CAKIK,aAAe,iBAAEN,OAAF,CAAUV,SAAV,CAAqB,CAACa,UAAD,CAAgBD,SAAhB,CAA+BE,SAA/B,CAA6CH,OAA7C,CAArB,CALnB,CAMIE,QAAa,iBAAEH,OAAF,CAAUV,SAAV,CAAqB,CAACa,UAAD,CAAgBD,SAAhB,CAA+BE,SAA/B,CAA8CH,OAA9C,CAArB,CANjB,CAOIM,OAAS,iBAAEP,OAAF,CAAUV,SAAV,CAAqB,CAACa,UAAD,CAAgBD,SAAhB,CAA+BE,SAA/B,CAA6CH,OAA7C,CAArB,CAPb,CAiDA,MA/BAJ,KAAM,CACJE,WAAY,SAACP,IAAD,CAAQ,CAElB,MADAM,SAAUA,QAAQU,MAAR,CAAeT,YAAWP,IAAX,CAAf,CACV,CAAOK,GACR,CAJG,CAKFY,UAAW,SAACjB,IAAD,CAAQ,CAEnB,MADAM,SAAUA,QAAQU,MAAR,CAAeN,OAAOV,IAAP,CAAf,CACV,CAAOK,GACR,CARG,CASFa,cAAe,SAAClB,IAAD,CAAQ,CAEvB,MADAM,SAAUA,QAAQU,MAAR,CAAeH,YAAYb,IAAZ,CAAf,CACV,CAAOK,GACR,CAZG,CAaFc,UAAW,SAACnB,IAAD,CAAQ,CAEnB,MADAM,SAAUA,QAAQU,MAAR,CAAeJ,OAAOZ,IAAP,CAAf,CACV,CAAOK,GACR,CAhBG,CAkBFe,gBAAiB,SAACpB,IAAD,CAAQ,CAEzB,MADAM,SAAUA,QAAQU,MAAR,CAAeF,aAAad,IAAb,CAAf,CACV,CAAOK,GACR,CArBG,CAuBFgB,WAAY,SAACrB,IAAD,CAAQ,CAEpB,MADAM,SAAUA,QAAQU,MAAR,CAAeL,QAAQX,IAAR,CAAf,CACV,CAAOK,GACR,CA1BG,CA4BFiB,MAAO,iBAAIhB,QAAJ,CA5BL,CA+BN,CAAOD,GACR,CAEU,E,CACXR,KAAKoB,SAAL,CAAe,CACb,CACEb,IAAK,OADP,CAEImB,MAAO,MAFX,CAGIP,OAAQ,QAHZ,CAIIQ,MAAO,IAJX,CAKIC,QAAS,yBALb,CAMIC,KAAM,MANV,CAOIC,IAAK,QAPT,CADa,CAUX,CAACvB,IAAK,SAAN,CAAiBqB,QAAS,eAA1B,CAVW,CAWX,CAACrB,IAAK,QAAN,CAAgBmB,MAAO,EAAvB,CAXW,CAAf,EAaCL,aAbD,CAae,CAAC,CAACd,IAAK,SAAN,CAAiBmB,MAAO,EAAxB,CAAD,CAbf,EAcCH,eAdD,eAeCC,UAfD,4BAgBCD,eAhBD,CAgBiB,CAAC,CAAChB,IAAK,SAAN,CAAiBmB,MAAO,EAAxB,CAAD,CAhBjB,EAiBChB,UAjBD,iB,CAoCA,mBAASqB,MAAT,CACE,qDACE,QAAe/B,KAAKyB,KAAL,EADjB,CAEE,IApBM,CACRO,QAAS,4BADD,CAENC,YAAa,UAFP,CAGNC,SAAU,UAHJ,CAINC,MAAO,+BAJD,CAKNC,QAAS,iCALH,CAMNC,OAAQ,+BANF,CAONC,SAAU,mCAPJ,CAQNC,QAAS,wCARH,CAkBR,CAGE,QAAc,OAHhB,CAIE,QAAc,IAJhB,CAKE,YAAc,8BALhB,CAME,MAAc,sCANhB,CAOE,YAAc,qBAPhB,CAQE,SAAe,uBAAS,CAAT,CAAY,GAAIC,KAAhB,CARjB,CASE,WAhBa,CACf,CAACd,MAAO,SAAR,CAAmBe,KAAM,CAACC,GAAI,CAAL,CAAQC,GAAI,EAAZ,CAAzB,CADe,CAEb,CAACjB,MAAO,WAAR,CAAqBe,KAAM,CAACC,GAAI,EAAL,CAASC,GAAI,EAAb,CAA3B,CAFa,CAGb,CAACjB,MAAO,SAAR,CAAmBe,KAAM,CAACC,GAAI,EAAL,CAASC,GAAI,EAAb,CAAzB,CAHa,CAOf,EADF,CAYEC,SAASC,cAAT,CAAwB,aAAxB,CAZF,C","file":"application.js","sourcesContent":["import 'babel-polyfill';\n\n import _ from 'lodash';\n import React from 'react';\n import ReactDom from 'react-dom';\n\nimport '../stylesheets/application.scss';\n\n import sessions from '../spec/data/sessions.js';\n import WeeklyProg from './components/weekly_prog';\n\nfunction createColumns(){\n  let columns = [{key: 'id'}, {key: 'cancelled'}];\n  let additional = _.partial(addColumn, {show: true});\n  let mobile     = _.partial(addColumn, {desktop: true, mobile: true, tablet: true, show: true});\n  let mobile_only = _.partial(addColumn, {desktop: false, mobile: true, tablet: false, show: false});\n  let tablet     = _.partial(addColumn, {desktop: true, mobile: false, tablet: true, show: true});\n  let tabletNoShow = _.partial(addColumn, {desktop: true, mobile: false, tablet: true, show: false});\n  let desktop    = _.partial(addColumn, {desktop: true, mobile: false, tablet: false, show: true});\n  let action = _.partial(addColumn, {desktop: true, mobile: false, tablet: true, show: false});\n\n  function addColumn(defaults, keys){\n    return _.map(keys, (k)=>{\n      k = (_.isString(k)) ? {key: k} :  k;\n      return _.defaults(k, defaults);\n    });\n  }\n\n  let obj;\n\n  obj = {\n    additional: (keys)=>{\n      columns = columns.concat(additional(keys));\n      return obj;\n    }\n    , addMobile: (keys)=>{\n      columns = columns.concat(mobile(keys));\n      return obj;\n    }\n    , addMobileOnly: (keys)=>{\n      columns = columns.concat(mobile_only(keys));\n      return obj;\n    }\n    , addTablet: (keys)=>{\n      columns = columns.concat(tablet(keys));\n      return obj;\n    }\n\n    , addTabletNoShow: (keys)=>{\n      columns = columns.concat(tabletNoShow(keys));\n      return obj;\n    }\n\n    , addDesktop: (keys)=>{\n      columns = columns.concat(desktop(keys));\n      return obj;\n    }\n\n    , value: ()=>columns\n  };\n\n  return obj;\n}\n\nlet cols = createColumns();\ncols.addMobile([\n  {\n    key: 'start'\n    , title: 'time'\n    , concat: 'finish'\n    , split: '- '\n    , wrapper: 'pill-weekly mobile-time'\n    , type: 'time'\n    , fmt: '%H: %M'\n  }\n  , {key: 'session', wrapper: 'session-title'}\n  , {key: 'expand', title: ''}\n])\n.addMobileOnly([{key: 'actions', title: ''}])\n.addTabletNoShow(['location'])\n.addDesktop(['instructor', 'activity'])\n.addTabletNoShow([{key: 'actions', title: ''}])\n.additional(['description']);\n\nlet css = {\n  default: 'col-lg-2 col-md-3 col-sm-5'\n  , places_left: 'col-lg-1'\n  , activity: 'col-lg-1'\n  , start: 'col-lg-2 col-md-3 mb mb-start'\n  , session: 'col-lg-2 col-md-3 mb mb-session'\n  , expand: 'col-lg-1 col-md-2 mb expander'\n  , location: 'col-lg-2 col-md-2 mb mb-locations'\n  , actions: 'col-lg-1 col-md-1 mb mb-actions center'\n};\n\nlet timeperiod = [\n  {title: 'Morning', time: {st: 0, fn: 11}}\n  , {title: 'Afternoon', time: {st: 12, fn: 17}}\n  , {title: 'Evening', time: {st: 18, fn: 23}}\n];\n\nReactDom.render(\n  <WeeklyProg\n    columns     = {cols.value()}\n    css         = {css}\n    groupby     = \"start\"\n    locales     = \"en\"\n    no_sessions = \"There are no activities this\"\n    print       = \"/timetable/print/:date/timetable.pdf\"\n    sessionsApi = \"/api/timetable.json\"\n    sessions    = {sessions(1, new Date())}\n    timeperiod  = {timeperiod}\n  />,\n  document.getElementById('weekly-prog')\n);\n"]}