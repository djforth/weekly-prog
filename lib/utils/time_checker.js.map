{"version":3,"sources":["../../src/utils/time_checker.js"],"names":["isnow","st","fn","now","isAfter","isSame","isBefore","ispast","item","col","times","pick","values","stk","fnk","get","isNow","isPast","setNowOrPast","past","fallback","isNull","includes"],"mappings":"qgBAOA,QAASA,MAAT,CAAeC,EAAf,CAAmBC,EAAnB,CAAsB,CACpB,GAAIC,KAAM,sBAAV,CACA,MACM,CAACA,IAAIC,OAAJ,CAAYH,EAAZ,GAAmBE,IAAIE,MAAJ,CAAWJ,EAAX,CAApB,IACCE,IAAIG,QAAJ,CAAaJ,EAAb,GAAoBC,IAAIE,MAAJ,CAAWH,EAAX,CADrB,CAGP,CAED,QAASK,OAAT,CAAgBL,EAAhB,CAAmB,CACjB,GAAIC,KAAM,sBAAV,CACA,MAAOA,KAAIC,OAAJ,CAAYF,EAAZ,CACR,C,uEAEc,SAASM,IAAT,CAAeC,GAAf,CAAmB,CAChC,GAAIC,OAAQ,iBAAEC,IAAF,CAAOF,GAAP,kBAAZ,UACiB,iBAAEG,MAAF,CAASF,KAAT,CADjB,sCACKG,GADL,cACUC,GADV,mBAEiB,CAACN,KAAKO,GAAL,CAASF,GAAT,CAAD,CAAgBL,KAAKO,GAAL,CAASD,GAAT,CAAhB,CAFjB,CAEKb,EAFL,SAESC,EAFT,SAIA,MAAO,CACLc,MAAO,uBAAIhB,OAAMC,EAAN,CAAUC,EAAV,CAAJ,CADF,CAEHe,OAAQ,wBAAIV,QAAOL,EAAP,CAAJ,CAFL,CAGHgB,aAAc,sBAACf,GAAD,CAAiC,IAA3BgB,KAA2B,wDAApB,EAAoB,CAAhBC,QAAgB,wDAAL,EAAK,OAC3C,CAAC,iBAAEC,MAAF,CAASlB,GAAT,CAAD,EAAkBH,MAAMC,EAAN,CAAUC,EAAV,CADyB,CACHC,GADG,CAE3CI,OAAOL,EAAP,CAF2C,CAExBiB,IAFwB,CAGxCC,QACR,CAPI,CASR,C,soBA7BA,iBAAEE,QAAF,mB","file":"time_checker.js","sourcesContent":["\nimport _ from 'lodash';\nimport Moment from 'moment';\n\nimport includes from 'lodash/includes';\n _.includes = includes;\n\nfunction isnow(st, fn){\n  let now = Moment();\n  return (\n        (now.isAfter(st) || now.isSame(st)) &&\n        (now.isBefore(fn) || now.isSame(fn))\n        );\n}\n\nfunction ispast(fn){\n  let now = Moment();\n  return now.isAfter(fn);\n}\n\nexport default function(item, col){\n  let times = _.pick(col, ['key', 'concat']);\n  let [stk, fnk] = _.values(times);\n  let [st, fn]   = [item.get(stk), item.get(fnk)];\n\n  return {\n    isNow: ()=>isnow(st, fn)\n    , isPast: ()=>ispast(fn)\n    , setNowOrPast: (now, past = '', fallback = '')=>{\n      if (!_.isNull(now) && isnow(st, fn)) return now;\n      if (ispast(fn)) return past;\n      return fallback;\n    }\n  };\n};\n"]}