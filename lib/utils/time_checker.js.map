{"version":3,"sources":["../../src/utils/time_checker.js"],"names":[],"mappings":";;;;AACA,IAAM,IAAU,QAAQ,aAAR,CAAhB;AAAA,IACM,SAAU,QAAQ,QAAR,CADhB;;AAGA,EAAE,QAAF,GAAgB,QAAQ,iBAAR,CAAhB;;AAEA,SAAS,KAAT,CAAe,EAAf,EAAmB,EAAnB,EAAsB;AACpB,MAAI,MAAM,QAAV;AACA,SACM,CAAC,IAAI,OAAJ,CAAY,EAAZ,KAAmB,IAAI,MAAJ,CAAW,EAAX,CAApB,MACC,IAAI,QAAJ,CAAa,EAAb,KAAoB,IAAI,MAAJ,CAAW,EAAX,CADrB,CADN;AAID;;AAED,SAAS,MAAT,CAAgB,EAAhB,EAAmB;AACjB,MAAI,MAAM,QAAV;AACA,SAAO,IAAI,OAAJ,CAAY,EAAZ,CAAP;AACD;;AAED,OAAO,OAAP,GAAiB,UAAS,IAAT,EAAe,GAAf,EAAmB;AAClC,MAAI,QAAQ,EAAE,IAAF,CAAO,GAAP,EAAY,CAAC,KAAD,EAAQ,QAAR,CAAZ,CAAZ;;AADkC,iBAEjB,EAAE,MAAF,CAAS,KAAT,CAFiB;;AAAA;;AAAA,MAE7B,GAF6B;AAAA,MAExB,GAFwB;AAAA,MAG7B,EAH6B,GAGhB,KAAK,GAAL,CAAS,GAAT,CAHgB;AAAA,MAGzB,EAHyB,GAGD,KAAK,GAAL,CAAS,GAAT,CAHC;;;AAKlC,SAAO;AACL,WAAO;AAAA,aAAI,MAAM,EAAN,EAAU,EAAV,CAAJ;AAAA,KADF;AAEH,YAAQ;AAAA,aAAI,OAAO,EAAP,CAAJ;AAAA,KAFL;AAGH,kBAAc,sBAAC,GAAD,EAAiC;AAAA,UAA3B,IAA2B,yDAApB,EAAoB;AAAA,UAAhB,QAAgB,yDAAL,EAAK;;AAC/C,UAAI,CAAC,EAAE,MAAF,CAAS,GAAT,CAAD,IAAkB,MAAM,EAAN,EAAU,EAAV,CAAtB,EAAqC,OAAO,GAAP;AACrC,UAAI,OAAO,EAAP,CAAJ,EAAgB,OAAO,IAAP;AAChB,aAAO,QAAP;AACD;AAPI,GAAP;AASD,CAdD","file":"time_checker.js","sourcesContent":["\nconst _       = require('lodash/core')\n    , Moment  = require('moment');\n\n_.includes    = require('lodash/includes');\n\nfunction isnow(st, fn){\n  let now = Moment();\n  return (\n        (now.isAfter(st) || now.isSame(st)) &&\n        (now.isBefore(fn) || now.isSame(fn))\n        );\n}\n\nfunction ispast(fn){\n  let now = Moment();\n  return now.isAfter(fn);\n}\n\nmodule.exports = function(item, col){\n  let times = _.pick(col, ['key', 'concat']);\n  var [stk, fnk] = _.values(times);\n  var [st, fn]   = [item.get(stk), item.get(fnk)];\n\n  return {\n    isNow: ()=>isnow(st, fn)\n    , isPast: ()=>ispast(fn)\n    , setNowOrPast: (now, past = '', fallback = '')=>{\n      if (!_.isNull(now) && isnow(st, fn)) return now;\n      if (ispast(fn)) return past;\n      return fallback;\n    }\n  };\n};\n"]}