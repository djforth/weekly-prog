{"version":3,"sources":["../../src/utils/ajax_manager.js"],"names":[],"mappings":";;AAAC,IAAM,IAAI,GAAI,OAAO,CAAC,iBAAiB,CAAC;IAClC,CAAC,GAAO,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAEjC,IAAM,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC;;AAE/B,SAAS,MAAM,CAAC,GAAG,EAAE,IAAI,EAAC;AACxB,SAAO,AAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAO,GAAG,cAAS,IAAI,GAAK,GAAG,CAAC;CACzD;;AAGD,MAAM,CAAC,OAAO,GAAG,UAAS,GAAG,EAAC;AAC5B,MAAG,CAAC,GAAG,EAAC;AACN,UAAM,IAAI,KAAK,CAAC,kBAAkB,CAAC,CAAC;GACrC;;AAED,MAAI,QAAQ,YAAA;MAAE,IAAI,YAAA,CAAC;;AAEnB,SAAO;AACL,eAAW,EAAC,qBAAC,CAAC,EAAG;AACf,cAAQ,GAAG,AAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,GAAI,CAAC,GAAG,IAAI,CAAC;AACxC,aAAO,QAAQ,CAAC;KACjB;;AAEC,YAAQ,EAAC,kBAAC,CAAC,EAAG;AACd,UAAI,GAAG,AAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,GAAI,CAAC,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC;AACzC,aAAO,IAAI,CAAC;KACb;;AAEC,SAAK,EAAC,iBAAI;AACV,iBAAW,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;AACtC,aAAO,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,UAAC,GAAG,EAAG;AAC9C,cAAM,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC;OACtB,CAAC,CAAC;KACJ;;GAKF,CAAA;CAGF,CAAA","file":"ajax_manager.js","sourcesContent":[" const Ajax  = require(\"ajax-es6-module\")\n    ,  _     = require(\"lodash\");\n\nconst ajaxManager = new Ajax();\n\nfunction setApi(api, date){\n  return (_.isString(date)) ? `${api}?date=${date}` : api;\n}\n\n\nmodule.exports = function(api){\n  if(!api){\n    throw new Error(\"api url required\");\n  }\n\n  let progress, date;\n\n  return {\n    addProgress:(p)=>{\n      progress = (_.isFunction(p)) ? p : null;\n      return progress;\n    }\n\n    , addQuery:(d)=>{\n      date = (_.isDate(d)) ? d.toJSON() : null;\n      return date;\n    }\n\n    , fetch:()=>{\n      ajaxManager.addUrl(setApi(api, date));\n      return ajaxManager.fetch(progress).catch((err)=>{\n        throw new Error(err);\n      });\n    }\n\n\n\n\n  }\n\n\n}\n"]}