{"version":3,"sources":["../../src/utils/formatter.js"],"names":[],"mappings":";;AAAA,IAAM,SAAS,QAAQ,iBAAR,CAAT;IACA,IAAS,QAAQ,aAAR,CAAT;;AAEN,EAAE,OAAF,GAAY,QAAQ,gBAAR,CAAZ;AACA,EAAE,QAAF,GAAa,QAAQ,iBAAR,CAAb;;AAEA,SAAS,SAAT,CAAmB,GAAnB,EAAuB;AACrB,MAAI,EAAE,GAAF,CAAM,GAAN,EAAW,KAAX,CAAJ,EAAuB,OAAO,IAAI,GAAJ,CAA9B;;AAEA,MAAI,EAAE,GAAF,CAAM,GAAN,EAAW,MAAX,KAAsB,IAAI,IAAJ,KAAa,UAAb,EAAwB;AAChD,WAAO,gBAAP,CADgD;GAAlD;;AAIA,SAAO,UAAP,CAPqB;CAAvB;;AAUA,SAAS,WAAT,CAAqB,IAArB,EAA2B,GAA3B,EAA+B;AAC7B,MAAI,CAAC,EAAE,MAAF,CAAS,IAAT,CAAD,EAAkB,OAAO,IAAP,CAAtB;AACA,SAAO,OAAO,IAAP,EAAa,QAAb,CAAsB,UAAU,GAAV,CAAtB,CAAP,CAF6B;CAA/B;;AAKA,SAAS,QAAT,CAAkB,IAAlB,EAAuB;AACrB,MAAI,OAAO,IAAP,CADiB;AAErB,SAAO,UAAS,IAAT,EAAc;AACnB,QAAI,EAAE,QAAF,CAAW,IAAX,CAAJ,EAAsB,OAAO,KAAK,GAAL,CAAS,IAAT,CAAP,CAAtB;;AAEA,QAAI,SAAU,KAAK,GAAL,CAAS,UAAS,GAAT,EAAa;AAClC,aAAO,KAAK,GAAL,CAAS,GAAT,CAAP,CADkC;KAAb,CAAnB,CAHe;;AAOnB,WAAO,MAAP,CAPmB;GAAd,CAFc;CAAvB;;AAaA,SAAS,YAAT,CAAsB,IAAtB,EAA4B,GAA5B,EAAgC;AAC9B,MAAI,SAAS,KAAK,CAAC,IAAI,GAAJ,EAAS,IAAI,MAAJ,CAAf,CAAT,CAD0B;AAE9B,MAAI,MAAM,EAAE,GAAF,CAAM,MAAN,EAAc,UAAC,CAAD,EAAK;AAC3B,QAAI,OAAO,YAAY,CAAZ,EAAe,GAAf,CAAP,CADuB;;AAG3B,WAAO,IAAP,CAH2B;GAAL,CAApB,CAF0B;;AAQ9B,SAAO,IAAI,IAAJ,OAAa,IAAI,KAAJ,MAAb,CAAP,CAR8B;CAAhC;;AAWA,OAAO,OAAP,GAAiB,UAAS,IAAT,EAAc;AAC7B,MAAI,QAAQ,SAAS,IAAT,CAAR,CADyB;;AAG7B,SAAO,UAAS,GAAT,EAAa;AAClB,WAAO,CAAC,CAAE,GAAF,CAAM,GAAN,EAAW,QAAX,CAAD,GAAyB,aAAa,KAAb,EAAoB,GAApB,CAAzB,GAAoD,MAAM,IAAI,GAAJ,CAA1D,CADW;GAAb,CAHsB;CAAd","file":"formatter.js","sourcesContent":["const moment = require('moment-strftime')\n    , _      = require('lodash/core');\n\n_.partial = require('lodash/partial');\n_.includes = require('lodash/includes');\n\nfunction getFormat(col){\n  if (_.has(col, 'fmt')) return col.fmt;\n\n  if (_.has(col, 'type') && col.type === 'dateTime'){\n    return '%d/%m/%Y %H:%M';\n  }\n\n  return '%d/%m/%Y';\n}\n\nfunction displayData(data, col){\n  if (!_.isDate(data))  return data;\n  return moment(data).strftime(getFormat(col));\n}\n\nfunction getValue(item){\n  var data = item;\n  return function(keys){\n    if (_.isString(keys)) return data.get(keys);\n\n    let values =  keys.map(function(key){\n      return data.get(key);\n    });\n\n    return values;\n  };\n}\n\nfunction concatValues(item, col){\n  let concat = item([col.key, col.concat]);\n  let val = _.map(concat, (d)=>{\n    let data = displayData(d, col);\n\n    return data;\n  });\n\n  return val.join(` ${col.split} `);\n}\n\nmodule.exports = function(item){\n  let value = getValue(item);\n\n  return function(col){\n    return (_.has(col, 'concat')) ? concatValues(value, col) : value(col.key);\n  };\n};\n"]}