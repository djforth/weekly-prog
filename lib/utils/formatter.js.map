{"version":3,"sources":["../../src/utils/formatter.js"],"names":[],"mappings":";;AAAA,IAAM,SAAS,QAAQ,iBAAR,CAAf;IACM,IAAS,QAAQ,aAAR,CADf;;AAGA,EAAE,OAAF,GAAY,QAAQ,gBAAR,CAAZ;AACA,EAAE,QAAF,GAAa,QAAQ,iBAAR,CAAb;;AAEA,SAAS,SAAT,CAAmB,GAAnB,EAAuB;AACrB,MAAI,EAAE,GAAF,CAAM,GAAN,EAAW,KAAX,CAAJ,EAAuB,OAAO,IAAI,GAAX;;AAEvB,MAAI,EAAE,GAAF,CAAM,GAAN,EAAW,MAAX,KAAsB,IAAI,IAAJ,KAAa,UAAvC,EAAkD;AAChD,WAAO,gBAAP;AACD;;AAED,SAAO,UAAP;AACD;;AAED,SAAS,WAAT,CAAqB,IAArB,EAA2B,GAA3B,EAA+B;AAC7B,MAAI,CAAC,EAAE,MAAF,CAAS,IAAT,CAAL,EAAsB,OAAO,IAAP;AACtB,SAAO,OAAO,IAAP,EAAa,QAAb,CAAsB,UAAU,GAAV,CAAtB,CAAP;AACD;;AAED,SAAS,QAAT,CAAkB,IAAlB,EAAuB;AACrB,MAAI,OAAO,IAAX;AACA,SAAO,UAAS,IAAT,EAAc;AACnB,QAAI,EAAE,QAAF,CAAW,IAAX,CAAJ,EAAsB,OAAO,KAAK,GAAL,CAAS,IAAT,CAAP;;AAEtB,QAAI,SAAU,KAAK,GAAL,CAAS,UAAS,GAAT,EAAa;AAClC,aAAO,KAAK,GAAL,CAAS,GAAT,CAAP;AACD,KAFa,CAAd;;AAIA,WAAO,MAAP;AACD,GARD;AASD;;AAED,SAAS,YAAT,CAAsB,IAAtB,EAA4B,GAA5B,EAAgC;AAC9B,MAAI,SAAS,KAAK,CAAC,IAAI,GAAL,EAAU,IAAI,MAAd,CAAL,CAAb;AACA,MAAI,MAAM,EAAE,GAAF,CAAM,MAAN,EAAc,UAAC,CAAD,EAAK;AAC3B,QAAI,OAAO,YAAY,CAAZ,EAAe,GAAf,CAAX;;AAEA,WAAO,IAAP;AACD,GAJS,CAAV;;AAMA,SAAO,IAAI,IAAJ,OAAa,IAAI,KAAjB,OAAP;AACD;;AAED,OAAO,OAAP,GAAiB,UAAS,IAAT,EAAc;AAC7B,MAAI,QAAQ,SAAS,IAAT,CAAZ;;AAEA,SAAO,UAAS,GAAT,EAAa;AAClB,WAAQ,EAAE,GAAF,CAAM,GAAN,EAAW,QAAX,CAAD,GAAyB,aAAa,KAAb,EAAoB,GAApB,CAAzB,GAAoD,MAAM,IAAI,GAAV,CAA3D;AACD,GAFD;AAGD,CAND","file":"formatter.js","sourcesContent":["const moment = require('moment-strftime')\n    , _      = require('lodash/core');\n\n_.partial = require('lodash/partial');\n_.includes = require('lodash/includes');\n\nfunction getFormat(col){\n  if (_.has(col, 'fmt')) return col.fmt;\n\n  if (_.has(col, 'type') && col.type === 'dateTime'){\n    return '%d/%m/%Y %H:%M';\n  }\n\n  return '%d/%m/%Y';\n}\n\nfunction displayData(data, col){\n  if (!_.isDate(data))  return data;\n  return moment(data).strftime(getFormat(col));\n}\n\nfunction getValue(item){\n  var data = item;\n  return function(keys){\n    if (_.isString(keys)) return data.get(keys);\n\n    let values =  keys.map(function(key){\n      return data.get(key);\n    });\n\n    return values;\n  };\n}\n\nfunction concatValues(item, col){\n  let concat = item([col.key, col.concat]);\n  let val = _.map(concat, (d)=>{\n    let data = displayData(d, col);\n\n    return data;\n  });\n\n  return val.join(` ${col.split} `);\n}\n\nmodule.exports = function(item){\n  let value = getValue(item);\n\n  return function(col){\n    return (_.has(col, 'concat')) ? concatValues(value, col) : value(col.key);\n  };\n};\n"]}