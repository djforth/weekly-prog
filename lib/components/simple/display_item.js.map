{"version":3,"sources":["../../../src/components/simple/display_item.js"],"names":[],"mappings":";;AAAA,IAAM,QAAQ,QAAQ,OAAR,CAAR;IACA,IAAQ,QAAQ,aAAR,CAAR;;AAEN,IAAM,cAAc,QAAQ,uBAAR,CAAd;IACA,YAAc,QAAQ,oBAAR,CAAd;;AAEN,IAAI,UAAW,QAAQ,mBAAR,CAAX;IACA,OAAW,QAAQ,eAAR,CAAX;IACA,WAAW,QAAQ,mBAAR,CAAX;;AAEJ,SAAS,OAAT,CAAiB,IAAjB,EAAsB;AACpB,MAAI,SAAS,KAAK,GAAL,CAAS,aAAT,CAAT,CADgB;AAEpB,MAAI,OAAO,IAAC,CAAK,GAAL,CAAS,SAAT,KAAuB,KAAK,GAAL,CAAS,SAAT,EAAoB,GAApB,CAAwB,MAAxB,CAAvB,GAA0D,KAAK,GAAL,CAAS,SAAT,EAAoB,GAApB,CAAwB,MAAxB,CAA3D,GAA6F,IAA7F,CAFS;;AAIpB,SAAO,EAAC,QAAQ,MAAR,EAAgB,MAAM,IAAN,EAAxB,CAJoB;CAAtB;;AAOA,SAAS,OAAT,CAAiB,GAAjB,EAAqB;AACnB,MAAI,OAAO,KAAK,KAAL,CAAW,IAAX,CADQ;AAEnB,MAAI,SAAS,KAAK,GAAL,CAAS,aAAT,CAAT,CAFe;AAGnB,MAAI,OAAO,IAAC,CAAK,GAAL,CAAS,SAAT,KAAuB,KAAK,GAAL,CAAS,SAAT,EAAoB,GAApB,CAAwB,MAAxB,CAAvB,GAA0D,KAAK,GAAL,CAAS,SAAT,EAAoB,GAApB,CAAwB,MAAxB,CAA3D,GAA6F,IAA7F,CAHQ;;AAMnB,SAAQ,oBAAC,OAAD,IAAS,QAAQ,MAAR,EAAgB,MAAM,IAAN,EAAzB,CAAR,CANmB;CAArB;;AASA,SAAS,WAAT,CAAqB,KAArB,EAA2B;AACzB,SAAO,oBAAC,QAAD,IAAU,SAAS,KAAT,EAAV,CAAP,CADyB;CAA3B;;AAIA,SAAS,QAAT,CAAkB,KAAlB,EAAwB;AACtB,SAAQ,oBAAC,IAAD;AACN,UAAQ,KAAK,KAAL,CAAW,GAAX;AACR,aAAW,YAAY,KAAK,KAAL,CAAW,IAAX,EAAiB,KAAK,KAAL,CAAW,GAAX,CAAxC;AACA,UAAQ,KAAR;AACA,eAAa,KAAK,KAAL,CAAW,IAAX,CAAgB,GAAhB,CAAoB,WAApB,CAAb;;GAJM,CAAR,CADsB;CAAxB;;AAUA,OAAO,OAAP,GAAiB,UAAS,KAAT,EAAe;AAC9B,MAAI,MAAM,MAAM,GAAN,CADoB;AAE9B,MAAG,IAAI,GAAJ,KAAY,SAAZ,EAAsB;AACvB,QAAI,OAAO,QAAQ,MAAM,IAAN,CAAf,CADmB;AAEvB,WAAQ,oBAAC,OAAD;AACN,cAAU,KAAK,MAAL;AACV,YAAQ,KAAK,IAAL;KAFF,CAAR,CAFuB;GAAzB;;AAQA,MAAI,QAAQ,MAAM,SAAN,CAAgB,GAAhB,CAAR,CAV0B;AAW9B,MAAG,MAAM,GAAN,CAAU,IAAV,KAAmB,MAAnB,EAA0B;AAC3B,WAAQ,oBAAC,QAAD,IAAU,SAAS,KAAT,EAAV,CAAR,CAD2B;GAA7B;;AAIA,SAAQ,oBAAC,IAAD;AACN,UAAQ,MAAM,GAAN;AACR,aAAW,YAAY,MAAM,IAAN,EAAY,MAAM,GAAN,CAAnC;AACA,UAAQ,KAAR;AACA,eAAa,MAAM,IAAN,CAAW,GAAX,CAAe,WAAf,CAAb;GAJM,CAAR,CAf8B;CAAf","file":"display_item.js","sourcesContent":["const React = require(\"react\")\n    , _     = require(\"lodash/core\");\n\nconst timeChecker = require(\"../utils/time_checker\")\n    , formatter   = require(\"../utils/formatter\");\n\nlet BookBtn  = require('./simple/book_btn')\n  , Time     = require('./simple/time')\n  , RichText = require('./simple/richtext');\n\nfunction getBook(item){\n  let places = item.get(\"places_left\");\n  let link = (item.has(\"buttons\") && item.get(\"buttons\").has(\"book\")) ? item.get(\"buttons\").get(\"book\") : null;\n\n  return {places: places, link: link}\n}\n\nfunction actions(col){\n  let item = this.props.item;\n  let places = item.get(\"places_left\");\n  let link = (item.has(\"buttons\") && item.get(\"buttons\").has(\"book\")) ? item.get(\"buttons\").get(\"book\") : null;\n\n\n  return (<BookBtn places={places} link={link}/>)\n}\n\nfunction showContent(value){\n  return(<RichText content={value} />)\n}\n\nfunction showTime(value){\n  return (<Time\n    cols = {this.props.col}\n    checker = {timeChecker(this.props.item, this.props.col)}\n    time = {value}\n    cancelled = {this.props.item.has('cancelled')}\n\n    />);\n}\n\nmodule.exports = function(props){\n  let col = props.col;\n  if(col.key === \"actions\"){\n    let book = getBook(props.item);\n    return (<BookBtn\n      places = {book.places}\n      link = {book.link}\n    />);\n  }\n\n  let value = props.formatter(col);\n  if(props.col.type !== \"time\"){\n    return (<RichText content={value} />);\n  }\n\n  return (<Time\n    cols = {props.col}\n    checker = {timeChecker(props.item, props.col)}\n    time = {value}\n    cancelled = {props.item.has('cancelled')}\n    />);\n}"]}