{"version":3,"sources":["../../../src/components/simple/additional.js"],"names":[],"mappings":";;;;;;;;;;AAAA,IAAM,QAAQ,QAAQ,OAAR,CAAR;IACA,IAAQ,QAAQ,aAAR,CAAR;;AAEN,IAAM,cAAc,QAAQ,uBAAR,CAAd;IACA,YAAc,QAAQ,oBAAR,CAAd;;;AAGN,IAAI,UAAW,QAAQ,mBAAR,CAAX;IACA,OAAW,QAAQ,eAAR,CAAX;IACA,WAAW,QAAQ,mBAAR,CAAX;IACA,UAAW,QAAQ,kBAAR,CAAX;;IAEE;;;AACJ,WADI,UACJ,CAAY,KAAZ,EAAmB;0BADf,YACe;;uEADf,uBAEI,QADW;;AAEjB,UAAK,SAAL,GAAiB,UAAU,MAAK,KAAL,CAAW,IAAX,CAA3B,CAFiB;;GAAnB;;eADI;;6BAMK,KAAI;AACX,UAAI,OAAO,KAAK,KAAL,CAAW,IAAX,CADA;AAEX,UAAI,SAAS,KAAK,GAAL,CAAS,aAAT,CAAT,CAFO;AAGX,UAAI,OAAO,IAAC,CAAK,GAAL,CAAS,SAAT,KAAuB,KAAK,GAAL,CAAS,SAAT,EAAoB,GAApB,CAAwB,MAAxB,CAAvB,GAA0D,KAAK,GAAL,CAAS,SAAT,EAAoB,GAApB,CAAwB,MAAxB,CAA3D,GAA6F,IAA7F,CAHA;;AAMX,aAAQ,oBAAC,OAAD,IAAS,QAAQ,MAAR,EAAgB,MAAM,IAAN,EAAzB,CAAR,CANW;;;;iCASA,OAAM;AACjB,aACE,oBAAC,QAAD,IAAU,SAAS,KAAT,EAAV,CADF,CADiB;;;;8BAMT,OAAM;AACd,aAAQ,oBAAC,IAAD;AACN,cAAQ,KAAK,KAAL,CAAW,GAAX;AACR,iBAAW,YAAY,KAAK,KAAL,CAAW,IAAX,EAAiB,KAAK,KAAL,CAAW,GAAX,CAAxC;AACA,cAAQ,KAAR;AACA,mBAAa,KAAK,KAAL,CAAW,IAAX,CAAgB,GAAhB,CAAoB,WAApB,CAAb;;OAJM,CAAR,CADc;;;;kCAUH;AACX,UAAI,MAAM,KAAK,KAAL,CAAW,GAAX,CADC;AAEX,UAAG,IAAI,GAAJ,KAAY,SAAZ,EAAuB,OAAO,KAAK,QAAL,CAAc,GAAd,CAAP,CAA1B;AACA,UAAI,QAAQ,KAAK,SAAL,CAAe,GAAf,CAAR,CAHO;AAIX,UAAG,EAAE,QAAF,CAAW,KAAX,KAAqB,MAAM,KAAN,CAAY,MAAZ,CAArB,EAA0C,OAAO,KAAK,UAAL,CAAgB,KAAhB,CAAP,CAA7C;AACA,UAAG,IAAI,IAAJ,KAAa,MAAb,EAAqB,OAAO,KAAP,CAAxB;;AAGA,aAAO,KAAK,SAAL,CAAe,KAAf,CAAP,CARW;;;;6BAWL;AACN,UAAI,MAAM,KAAK,KAAL,CAAW,GAAX,CADJ;AAEN,aACE;;UAAI,WAAU,0BAAV,EAAqC,KAAK,KAAK,UAAL,CAAgB,IAAI,KAAJ,CAArB,EAAzC;QACE;;;UAAS,IAAI,KAAJ;aAAT;SADF;QAEK,KAAK,WAAL,EAFL;OADF,CAFM;;;;SA1CJ;EAAmB,MAAM,SAAN;;AAqDzB,OAAO,OAAP,GAAiB,UAAjB","file":"additional.js","sourcesContent":["const React = require(\"react\")\n    , _     = require(\"lodash/core\");\n\nconst timeChecker = require(\"../utils/time_checker\")\n    , formatter   = require(\"../utils/formatter\");\n\n// Components\nlet BookBtn  = require('./simple/book_btn')\n  , Time     = require('./simple/time')\n  , RichText = require('./simple/richtext')\n  , Wrapper  = require('./simple/wrapper');\n\nclass Additional extends React.Component {\n  constructor(props) {\n    super(props);\n    this.formatter = formatter(this.props.item)\n  }\n\n  _actions(col){\n    let item = this.props.item;\n    let places = item.get(\"places_left\");\n    let link = (item.has(\"buttons\") && item.get(\"buttons\").has(\"book\")) ? item.get(\"buttons\").get(\"book\") : null;\n\n\n    return (<BookBtn places={places} link={link}/>)\n  }\n\n  _showContent(value){\n    return(\n      <RichText content={value} />\n    )\n  }\n\n  _showTime(value){\n    return (<Time\n      cols = {this.props.col}\n      checker = {timeChecker(this.props.item, this.props.col)}\n      time = {value}\n      cancelled = {this.props.item.has('cancelled')}\n\n      />);\n  }\n\n  _showValues(){\n    let col = this.props.col;\n    if(col.key === \"actions\") return this._actions(col);\n    let value = this.formatter(col);\n    if(_.isString(value) && value.match(/<|>/g)) return this._rawMarkup(value);\n    if(col.type !== \"time\") return value;\n\n\n    return this._showTime(value);\n  }\n\n  render(){\n    let col = this.props.col;\n    return (\n      <li className=\"list-group-item col-md-4\" key={this._createKey(col.title)}>\n        <strong>{col.title}:</strong>\n          {this._showValues()}\n      </li>\n    );\n  }\n}\n\nmodule.exports = Additional;"]}