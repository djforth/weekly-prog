{"version":3,"sources":["../../../src/components/sessions/data_items.js"],"names":["React","SessionsStore","DataExpander","DataItems","props","active","state","data","sessions","keys","visible","device","addChangeListener","_onLoaded","bind","_onPagination","_onChange","removeChangeListener","items","map","k","console","log","css","get","renderData","setState","paginationData","getSearchData","getAll","getKeys","Component"],"mappings":";;;;;;;;AAAA;;AAEA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA;;AAEA,OAAOC,aAAP,MAA0B,0BAA1B;;AAEA;;AAEA,OAAOC,YAAP,MAAyB,sBAAzB;;IAEMC,S;;;AACJ,qBAAYC,KAAZ,EAAkB;AAAA;;AAAA,sHACVA,KADU;;AAEhB,UAAKC,MAAL,GAAc,CAAC,EAACA,QAAQ,KAAT,EAAD,CAAd;AACA,UAAKC,KAAL,GAAa;AACXC,YAAM,MAAKH,KAAL,CAAWI,QAAX,CAAoBD,IADf;AAETE,YAAM,EAFG;AAGTC,eAAS,EAHA;AAITC,cAAQ;AAJC,KAAb;AAHgB;AASjB;;;;yCAEmB;AAClBV,oBAAcW,iBAAd,CAAgC,WAAhC,EAA6C,KAAKC,SAAL,CAAeC,IAAf,CAAoB,IAApB,CAA7C;AACD;;;wCAEkB;AACjBb,oBAAcW,iBAAd,CAAgC,YAAhC,EACI,KAAKG,aAAL,CAAmBD,IAAnB,CAAwB,IAAxB,CADJ;AAGAb,oBAAcW,iBAAd,CAAgC,QAAhC,EAA0C,KAAKI,SAAL,CAAeF,IAAf,CAAoB,IAApB,CAA1C;AACAb,oBAAcW,iBAAd,CAAgC,SAAhC,EAA2C,KAAKC,SAAL,CAAeC,IAAf,CAAoB,IAApB,CAA3C;AACD;;;2CAEqB;AACpBb,oBAAcgB,oBAAd,CAAmC,SAAnC,EAA8C,KAAKJ,SAAnD;AACAZ,oBAAcgB,oBAAd,CAAmC,QAAnC,EAA6C,KAAKD,SAAlD;AACAf,oBAAcgB,oBAAd,CAAmC,YAAnC,EAAiD,KAAKF,aAAtD;AACD;;;iCAEW;AACV,UAAI,KAAKT,KAAL,CAAWC,IAAf,EAAoB;AAClB,YAAIW,QAAQ,KAAKZ,KAAL,CAAWC,IAAX,CAAgBY,GAAhB,CAAoB,UAASC,CAAT,EAAW;AACzC,cAAIA,CAAJ,EAAM;AACJC,oBAAQC,GAAR,CAAY,MAAZ,EAAmBF,CAAnB;AACA,mBACE,oBAAC,YAAD,IAAc,KAAK,KAAKhB,KAAL,CAAWmB,GAA9B,EAAmC,MAAMH,CAAzC,EAA4C,KAAKA,EAAEI,GAAF,CAAM,IAAN,CAAjD,GADF;AAGD;AACF,SAP+B,CAO9BV,IAP8B,CAOzB,IAPyB,CAApB,CAAZ;;AASA,eAAOI,KAAP;AACD;AACF;;;6BAEO;AACN,aACE;AAAA;AAAA,UAAK,KAAI,OAAT;AACG,aAAKO,UAAL;AADH,OADF;AAMD;;;gCAEU;AACT,WAAKC,QAAL,CAAc,EAACnB,MAAMN,cAAc0B,cAAd,EAAP,EAAd;AACD;;;oCAEc;AACb,WAAKD,QAAL,CAAc,EAACnB,MAAMN,cAAc0B,cAAd,EAAP,EAAd;AACD;;;gCAEU;AACT,WAAKD,QAAL,CAAc,EAACnB,MAAMN,cAAc2B,aAAd,EAAP,EAAd;AACD;;;gCAEU;AACT,WAAKF,QAAL,CAAc;AACZnB,cAAMN,cAAc4B,MAAd,EADM;AAEVpB,cAAMR,cAAc6B,OAAd;AAFI,OAAd;AAID;;;;EAvEqB9B,MAAM+B,S;;AA0E9B,eAAe5B,SAAf","file":"data_items.js","sourcesContent":["// Libraries\n\nimport React from 'react';\n\n// Flux\n\nimport SessionsStore from '../stores/sessions_store';\n\n// Components\n\nimport DataExpander from './data_expander_item';\n\nclass DataItems extends React.Component{\n  constructor(props){\n    super(props);\n    this.active = [{active: false}];\n    this.state = {\n      data: this.props.sessions.data\n      , keys: []\n      , visible: []\n      , device: 'desktop'\n    };\n  }\n\n  componentWillMount(){\n    SessionsStore.addChangeListener('prerender', this._onLoaded.bind(this));\n  }\n\n  componentDidMount(){\n    SessionsStore.addChangeListener('pagination'\n      , this._onPagination.bind(this)\n    );\n    SessionsStore.addChangeListener('change', this._onChange.bind(this));\n    SessionsStore.addChangeListener('fetched', this._onLoaded.bind(this));\n  }\n\n  componentWillUnmount(){\n    SessionsStore.removeChangeListener('fetched', this._onLoaded);\n    SessionsStore.removeChangeListener('change', this._onChange);\n    SessionsStore.removeChangeListener('pagination', this._onPagination);\n  }\n\n  renderData(){\n    if (this.state.data){\n      let items = this.state.data.map(function(k){\n        if (k){\n          console.log('data',k)\n          return (\n            <DataExpander css={this.props.css} data={k} key={k.get('id')} />\n            );\n        }\n      }.bind(this));\n\n      return items;\n    }\n  }\n\n  render(){\n    return (\n      <div key=\"items\">\n        {this.renderData()}\n      </div>\n\n    );\n  }\n\n  _onChange(){\n    this.setState({data: SessionsStore.paginationData()});\n  }\n\n  _onPagination(){\n    this.setState({data: SessionsStore.paginationData()});\n  }\n\n  _onSearch(){\n    this.setState({data: SessionsStore.getSearchData()});\n  }\n\n  _onLoaded(){\n    this.setState({\n      data: SessionsStore.getAll()\n      , keys: SessionsStore.getKeys()\n    });\n  }\n}\n\nexport default DataItems;\n"]}