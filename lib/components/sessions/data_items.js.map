{"version":3,"sources":["../../../src/components/sessions/data_items.jsx"],"names":["DataItems","props","active","state","data","sessions","keys","visible","device","addChangeListener","_onLoaded","bind","_onPagination","_onChange","removeChangeListener","items","map","k","console","log","css","get","renderData","setState","paginationData","getSearchData","getAll","getKeys","Component"],"mappings":"2jEASMA,S,4BACJ,mBAAYC,KAAZ,CAAkB,6IACVA,KADU,SAEhB,OAAKC,MAAL,CAAc,CAAC,CAACA,SAAD,CAAD,CAFE,CAGhB,MAAKC,KAAL,CAAa,CACXC,KAAM,MAAKH,KAAL,CAAWI,QAAX,CAAoBD,IADf,CAETE,OAFS,CAGTC,UAHS,CAITC,OAAQ,SAJC,CAHG,MASjB,C,+GAEmB,CAClB,yBAAcC,iBAAd,CAAgC,WAAhC,CAA6C,KAAKC,SAAL,CAAeC,IAAf,CAAoB,IAApB,CAA7C,CACD,C,2CAEkB,CACjB,yBAAcF,iBAAd,CAAgC,YAAhC,CACI,KAAKG,aAAL,CAAmBD,IAAnB,CAAwB,IAAxB,CADJ,CADiB,CAIjB,yBAAcF,iBAAd,CAAgC,QAAhC,CAA0C,KAAKI,SAAL,CAAeF,IAAf,CAAoB,IAApB,CAA1C,CAJiB,CAKjB,yBAAcF,iBAAd,CAAgC,SAAhC,CAA2C,KAAKC,SAAL,CAAeC,IAAf,CAAoB,IAApB,CAA3C,CACD,C,8CAEqB,CACpB,yBAAcG,oBAAd,CAAmC,SAAnC,CAA8C,KAAKJ,SAAnD,CADoB,CAEpB,yBAAcI,oBAAd,CAAmC,QAAnC,CAA6C,KAAKD,SAAlD,CAFoB,CAGpB,yBAAcC,oBAAd,CAAmC,YAAnC,CAAiD,KAAKF,aAAtD,CACD,C,oCAEW,CACV,GAAI,KAAKT,KAAL,CAAWC,IAAf,CAAoB,CAClB,GAAIW,OAAQ,KAAKZ,KAAL,CAAWC,IAAX,CAAgBY,GAAhB,CAAoB,SAASC,CAAT,CAAW,CACzC,GAAIA,CAAJ,CAEE,MADAC,SAAQC,GAAR,CAAY,MAAZ,CAAoBF,CAApB,CACA,CACE,4DAAc,IAAK,KAAKhB,KAAL,CAAWmB,GAA9B,CAAmC,KAAMH,CAAzC,CAA4C,IAAKA,EAAEI,GAAF,CAAM,IAAN,CAAjD,EAGL,CAP+B,CAO9BV,IAP8B,CAOzB,IAPyB,CAApB,CAAZ,CASA,MAAOI,MACR,CACF,C,gCAEO,CACN,MACE,sCAAK,IAAI,OAAT,EACG,KAAKO,UAAL,EADH,CAKH,C,mCAEU,CACT,KAAKC,QAAL,CAAc,CAACnB,KAAM,yBAAcoB,cAAd,EAAP,CAAd,CACD,C,uCAEc,CACb,KAAKD,QAAL,CAAc,CAACnB,KAAM,yBAAcoB,cAAd,EAAP,CAAd,CACD,C,mCAEU,CACT,KAAKD,QAAL,CAAc,CAACnB,KAAM,yBAAcqB,aAAd,EAAP,CAAd,CACD,C,mCAEU,CACT,KAAKF,QAAL,CAAc,CACZnB,KAAM,yBAAcsB,MAAd,EADM,CAEVpB,KAAM,yBAAcqB,OAAd,EAFI,CAAd,CAID,C,eAvEqB,gBAAMC,S,kBA0Ef5B,S","file":"data_items.js","sourcesContent":["// Libraries\nimport React from 'react';\n\n// Flux\nimport SessionsStore from '../stores/sessions_store';\n\n// Components\nimport DataExpander from './data_expander_item';\n\nclass DataItems extends React.Component{\n  constructor(props){\n    super(props);\n    this.active = [{active: false}];\n    this.state = {\n      data: this.props.sessions.data\n      , keys: []\n      , visible: []\n      , device: 'desktop'\n    };\n  }\n\n  componentWillMount(){\n    SessionsStore.addChangeListener('prerender', this._onLoaded.bind(this));\n  }\n\n  componentDidMount(){\n    SessionsStore.addChangeListener('pagination'\n      , this._onPagination.bind(this)\n    );\n    SessionsStore.addChangeListener('change', this._onChange.bind(this));\n    SessionsStore.addChangeListener('fetched', this._onLoaded.bind(this));\n  }\n\n  componentWillUnmount(){\n    SessionsStore.removeChangeListener('fetched', this._onLoaded);\n    SessionsStore.removeChangeListener('change', this._onChange);\n    SessionsStore.removeChangeListener('pagination', this._onPagination);\n  }\n\n  renderData(){\n    if (this.state.data){\n      let items = this.state.data.map(function(k){\n        if (k){\n          console.log('data', k);\n          return (\n            <DataExpander css={this.props.css} data={k} key={k.get('id')} />\n            );\n        }\n      }.bind(this));\n\n      return items;\n    }\n  }\n\n  render(){\n    return (\n      <div key=\"items\">\n        {this.renderData()}\n      </div>\n\n    );\n  }\n\n  _onChange(){\n    this.setState({data: SessionsStore.paginationData()});\n  }\n\n  _onPagination(){\n    this.setState({data: SessionsStore.paginationData()});\n  }\n\n  _onSearch(){\n    this.setState({data: SessionsStore.getSearchData()});\n  }\n\n  _onLoaded(){\n    this.setState({\n      data: SessionsStore.getAll()\n      , keys: SessionsStore.getKeys()\n    });\n  }\n}\n\nexport default DataItems;\n"]}