{"version":3,"sources":["../../../src/components/sessions/data_items.js"],"names":[],"mappings":";;;;;;;;;;;AACA,IAAM,QAAQ,QAAQ,OAAR,CAAR;;;AAGN,IAAM,gBAAgB,QAAQ,0BAAR,CAAhB;;;AAGN,IAAM,eAAe,QAAQ,sBAAR,CAAf;;IAEA;;;AACJ,WADI,SACJ,CAAY,KAAZ,EAAkB;0BADd,WACc;;uEADd,sBAEI,QADU;;AAEhB,UAAK,MAAL,GAAc,CAAC,EAAC,QAAQ,KAAR,EAAF,CAAd,CAFgB;AAGhB,UAAK,KAAL,GAAa;AACX,YAAM,MAAK,KAAL,CAAW,QAAX,CAAoB,IAApB;AACJ,YAAM,EAAN;AACA,eAAS,EAAT;AACA,cAAQ,SAAR;KAJJ,CAHgB;;GAAlB;;eADI;;yCAYgB;AAClB,oBAAc,iBAAd,CAAgC,WAAhC,EAA6C,KAAK,SAAL,CAAe,IAAf,CAAoB,IAApB,CAA7C,EADkB;;;;wCAID;AACjB,oBAAc,iBAAd,CAAgC,YAAhC,EACI,KAAK,aAAL,CAAmB,IAAnB,CAAwB,IAAxB,CADJ,EADiB;AAIjB,oBAAc,iBAAd,CAAgC,QAAhC,EAA0C,KAAK,SAAL,CAAe,IAAf,CAAoB,IAApB,CAA1C,EAJiB;AAKjB,oBAAc,iBAAd,CAAgC,SAAhC,EAA2C,KAAK,SAAL,CAAe,IAAf,CAAoB,IAApB,CAA3C,EALiB;;;;2CAQG;AACpB,oBAAc,oBAAd,CAAmC,SAAnC,EAA8C,KAAK,SAAL,CAA9C,CADoB;AAEpB,oBAAc,oBAAd,CAAmC,QAAnC,EAA6C,KAAK,SAAL,CAA7C,CAFoB;AAGpB,oBAAc,oBAAd,CAAmC,YAAnC,EAAiD,KAAK,aAAL,CAAjD,CAHoB;;;;iCAMV;AACV,UAAI,KAAK,KAAL,CAAW,IAAX,EAAgB;AAClB,YAAI,QAAQ,KAAK,KAAL,CAAW,IAAX,CAAgB,GAAhB,CAAoB,UAAS,CAAT,EAAW;AACzC,cAAI,CAAJ,EAAM;AACJ,mBACE,oBAAC,YAAD,IAAc,KAAK,KAAK,KAAL,CAAW,GAAX,EAAgB,MAAM,CAAN,EAAS,KAAK,EAAE,GAAF,CAAM,IAAN,CAAL,EAA5C,CADF,CADI;WAAN;SAD8B,CAM9B,IAN8B,CAMzB,IANyB,CAApB,CAAR,CADc;;AASlB,eAAO,KAAP,CATkB;OAApB;;;;6BAaM;AACN,aACE;;UAAK,KAAI,OAAJ,EAAL;QACG,KAAK,UAAL,EADH;OADF,CADM;;;;gCASG;AACT,WAAK,QAAL,CAAc,EAAC,MAAM,cAAc,cAAd,EAAN,EAAf,EADS;;;;oCAII;AACb,WAAK,QAAL,CAAc,EAAC,MAAM,cAAc,cAAd,EAAN,EAAf,EADa;;;;gCAIJ;AACT,WAAK,QAAL,CAAc,EAAC,MAAM,cAAc,aAAd,EAAN,EAAf,EADS;;;;gCAIA;AACT,WAAK,QAAL,CAAc;AACZ,cAAM,cAAc,MAAd,EAAN;AACE,cAAM,cAAc,OAAd,EAAN;OAFJ,EADS;;;;SAjEP;EAAkB,MAAM,SAAN;;AAyExB,OAAO,OAAP,GAAiB,SAAjB","file":"data_items.js","sourcesContent":["// Libraries\nconst React = require('react');\n\n// Flux\nconst SessionsStore = require('../stores/sessions_store');\n\n// Components\nconst DataExpander = require('./data_expander_item');\n\nclass DataItems extends React.Component{\n  constructor(props){\n    super(props);\n    this.active = [{active: false}];\n    this.state = {\n      data: this.props.sessions.data\n      , keys: []\n      , visible: []\n      , device: 'desktop'\n    };\n  }\n\n  componentWillMount(){\n    SessionsStore.addChangeListener('prerender', this._onLoaded.bind(this));\n  }\n\n  componentDidMount(){\n    SessionsStore.addChangeListener('pagination'\n      , this._onPagination.bind(this)\n    );\n    SessionsStore.addChangeListener('change', this._onChange.bind(this));\n    SessionsStore.addChangeListener('fetched', this._onLoaded.bind(this));\n  }\n\n  componentWillUnmount(){\n    SessionsStore.removeChangeListener('fetched', this._onLoaded);\n    SessionsStore.removeChangeListener('change', this._onChange);\n    SessionsStore.removeChangeListener('pagination', this._onPagination);\n  }\n\n  renderData(){\n    if (this.state.data){\n      let items = this.state.data.map(function(k){\n        if (k){\n          return (\n            <DataExpander css={this.props.css} data={k} key={k.get('id')} />\n            );\n        }\n      }.bind(this));\n\n      return items;\n    }\n  }\n\n  render(){\n    return (\n      <div key=\"items\">\n        {this.renderData()}\n      </div>\n\n    );\n  }\n\n  _onChange(){\n    this.setState({data: SessionsStore.paginationData()});\n  }\n\n  _onPagination(){\n    this.setState({data: SessionsStore.paginationData()});\n  }\n\n  _onSearch(){\n    this.setState({data: SessionsStore.getSearchData()});\n  }\n\n  _onLoaded(){\n    this.setState({\n      data: SessionsStore.getAll()\n      , keys: SessionsStore.getKeys()\n    });\n  }\n}\n\nmodule.exports = DataItems;\n"]}