{"version":3,"sources":["../../../src/components/sessions/data_items.js"],"names":[],"mappings":";;;;;;;;;;;AACA,IAAM,QAAQ,QAAQ,OAAR,CAAd;;;AAGA,IAAM,gBAAgB,QAAQ,0BAAR,CAAtB;;;AAGA,IAAM,eAAe,QAAQ,sBAAR,CAArB;;IAEM,S;YAAA,S;;AACJ,WADI,SACJ,CAAY,KAAZ,EAAkB;AAAA,0BADd,SACc;;AAAA,uEADd,SACc,aACV,KADU;;AAEhB,UAAK,MAAL,GAAc,CAAC,EAAC,QAAQ,KAAT,EAAD,CAAd;AACA,UAAK,KAAL,GAAa;AACX,YAAM,MAAK,KAAL,CAAW,QAAX,CAAoB,IADf;AAET,YAAM,EAFG;AAGT,eAAS,EAHA;AAIT,cAAQ;AAJC,KAAb;AAHgB;AASjB;;eAVG,S;;yCAYgB;AAClB,oBAAc,iBAAd,CAAgC,WAAhC,EAA6C,KAAK,SAAL,CAAe,IAAf,CAAoB,IAApB,CAA7C;AACD;;;wCAEkB;AACjB,oBAAc,iBAAd,CAAgC,YAAhC,EACI,KAAK,aAAL,CAAmB,IAAnB,CAAwB,IAAxB,CADJ;AAGA,oBAAc,iBAAd,CAAgC,QAAhC,EAA0C,KAAK,SAAL,CAAe,IAAf,CAAoB,IAApB,CAA1C;AACA,oBAAc,iBAAd,CAAgC,SAAhC,EAA2C,KAAK,SAAL,CAAe,IAAf,CAAoB,IAApB,CAA3C;AACD;;;2CAEqB;AACpB,oBAAc,oBAAd,CAAmC,SAAnC,EAA8C,KAAK,SAAnD;AACA,oBAAc,oBAAd,CAAmC,QAAnC,EAA6C,KAAK,SAAlD;AACA,oBAAc,oBAAd,CAAmC,YAAnC,EAAiD,KAAK,aAAtD;AACD;;;iCAEW;AACV,UAAI,KAAK,KAAL,CAAW,IAAf,EAAoB;AAClB,YAAI,QAAQ,KAAK,KAAL,CAAW,IAAX,CAAgB,GAAhB,CAAoB,UAAS,CAAT,EAAW;AACzC,cAAI,CAAJ,EAAM;AACJ,mBACE,oBAAC,YAAD,IAAc,KAAK,KAAK,KAAL,CAAW,GAA9B,EAAmC,MAAM,CAAzC,EAA4C,KAAK,EAAE,GAAF,CAAM,IAAN,CAAjD,GADF;AAGD;AACF,SAN+B,CAM9B,IAN8B,CAMzB,IANyB,CAApB,CAAZ;;AAQA,eAAO,KAAP;AACD;AACF;;;6BAEO;AACN,aACE;AAAA;QAAA,EAAK,KAAI,OAAT;QACG,KAAK,UAAL;AADH,OADF;AAMD;;;gCAEU;AACT,WAAK,QAAL,CAAc,EAAC,MAAM,cAAc,cAAd,EAAP,EAAd;AACD;;;oCAEc;AACb,WAAK,QAAL,CAAc,EAAC,MAAM,cAAc,cAAd,EAAP,EAAd;AACD;;;gCAEU;AACT,WAAK,QAAL,CAAc,EAAC,MAAM,cAAc,aAAd,EAAP,EAAd;AACD;;;gCAEU;AACT,WAAK,QAAL,CAAc;AACZ,cAAM,cAAc,MAAd,EADM;AAEV,cAAM,cAAc,OAAd;AAFI,OAAd;AAID;;;SAtEG,S;EAAkB,MAAM,S;;AAyE9B,OAAO,OAAP,GAAiB,SAAjB","file":"data_items.js","sourcesContent":["// Libraries\nconst React = require('react');\n\n// Flux\nconst SessionsStore = require('../stores/sessions_store');\n\n// Components\nconst DataExpander = require('./data_expander_item');\n\nclass DataItems extends React.Component{\n  constructor(props){\n    super(props);\n    this.active = [{active: false}];\n    this.state = {\n      data: this.props.sessions.data\n      , keys: []\n      , visible: []\n      , device: 'desktop'\n    };\n  }\n\n  componentWillMount(){\n    SessionsStore.addChangeListener('prerender', this._onLoaded.bind(this));\n  }\n\n  componentDidMount(){\n    SessionsStore.addChangeListener('pagination'\n      , this._onPagination.bind(this)\n    );\n    SessionsStore.addChangeListener('change', this._onChange.bind(this));\n    SessionsStore.addChangeListener('fetched', this._onLoaded.bind(this));\n  }\n\n  componentWillUnmount(){\n    SessionsStore.removeChangeListener('fetched', this._onLoaded);\n    SessionsStore.removeChangeListener('change', this._onChange);\n    SessionsStore.removeChangeListener('pagination', this._onPagination);\n  }\n\n  renderData(){\n    if (this.state.data){\n      let items = this.state.data.map(function(k){\n        if (k){\n          return (\n            <DataExpander css={this.props.css} data={k} key={k.get('id')} />\n            );\n        }\n      }.bind(this));\n\n      return items;\n    }\n  }\n\n  render(){\n    return (\n      <div key=\"items\">\n        {this.renderData()}\n      </div>\n\n    );\n  }\n\n  _onChange(){\n    this.setState({data: SessionsStore.paginationData()});\n  }\n\n  _onPagination(){\n    this.setState({data: SessionsStore.paginationData()});\n  }\n\n  _onSearch(){\n    this.setState({data: SessionsStore.getSearchData()});\n  }\n\n  _onLoaded(){\n    this.setState({\n      data: SessionsStore.getAll()\n      , keys: SessionsStore.getKeys()\n    });\n  }\n}\n\nmodule.exports = DataItems;\n"]}